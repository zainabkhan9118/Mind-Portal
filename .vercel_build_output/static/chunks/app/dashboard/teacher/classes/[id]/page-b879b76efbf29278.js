(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9955],{2708:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(7485);let r={getAllCourses:async()=>(await s.A.get("/courses")).data,getCourseById:async e=>(await s.A.get("/courses/".concat(e))).data,createCourse:async e=>(await s.A.post("/courses",e)).data,updateCourse:async(e,t)=>(await s.A.put("/courses/".concat(e),t)).data,deleteCourse:async e=>{await s.A.delete("/courses/".concat(e))},toggleCourseStatus:async(e,t)=>(await s.A.patch("/courses/".concat(e,"/status"),{isActive:t})).data}},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},6170:(e,t,a)=>{Promise.resolve().then(a.bind(a,9337))},7393:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,M:()=>r});var s=a(2115);let r=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,a]=(0,s.useState)(e),r=(0,s.useCallback)(()=>{a(!0)},[]),d=(0,s.useCallback)(()=>{a(!1)},[]),c=(0,s.useCallback)(async e=>{try{return r(),await e}finally{d()}},[r,d]);return{isLoading:t,startLoading:r,stopLoading:d,withLoading:c}},d=r},7485:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let s=a(3464).A.create({baseURL:"https://zaraschool-05bf2031623e.herokuapp.com",headers:{"Content-Type":"application/json",Accept:"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&!window.location.pathname.includes("/signin")&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/signin"),Promise.reject(e)));let r=s},9337:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(5155),r=a(2115),d=a(5695),c=a(6874),n=a.n(c),l=a(2708),i=a(7393);function o(){let e=Number((0,d.useParams)().id),{isLoading:t,startLoading:a,stopLoading:c}=(0,i.M)(),[o,x]=(0,r.useState)(null),[m,h]=(0,r.useState)(null),u=(0,r.useCallback)(async()=>{try{a();let t=await l.A.getAllCourses();if(t&&t.length>0){let a=t[Math.floor(Math.random()*t.length)],s=Array.from({length:15},(e,t)=>({id:t+1,name:"Student ".concat(t+1),email:"student".concat(t+1,"@example.com"),attendance:Math.floor(30*Math.random())+70,grade:["A","B","C","D","Pending"][Math.floor(5*Math.random())]}));x({id:e,courseName:a.name,courseDescription:a.description,section:"Section ".concat(String.fromCharCode(65+Math.floor(3*Math.random()))),schedule:["Mon/Wed/Fri 10:00-11:30","Tue/Thu 14:00-16:00","Mon/Fri 08:30-10:30"][Math.floor(3*Math.random())],room:"Room ".concat(Math.floor(20*Math.random())+101),startDate:"2025-01-15",endDate:"2025-06-15",students:s})}else h("No course details available")}catch(e){console.error("Failed to fetch class details:",e),h("Failed to load class details. Please try again.")}finally{c()}},[e,a,c]);return(0,r.useEffect)(()=>{u()},[u]),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)(n(),{href:"/dashboard/teacher/classes",className:"inline-flex items-center text-sm font-medium text-brand-500 hover:text-brand-600 mb-4",children:[(0,s.jsx)("svg",{className:"mr-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Classes"]}),o&&(0,s.jsxs)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[o.courseName," - ",o.section]})]}),m&&(0,s.jsx)("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-md",children:m}),t?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-brand-500"})}):o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Class Information"}),(0,s.jsxs)("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Course"}),(0,s.jsx)("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:o.courseName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Section"}),(0,s.jsx)("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:o.section})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Schedule"}),(0,s.jsx)("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:o.schedule})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Room"}),(0,s.jsx)("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:o.room})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Start Date"}),(0,s.jsx)("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(o.startDate).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"End Date"}),(0,s.jsx)("dd",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:new Date(o.endDate).toLocaleDateString()})]})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Course Description"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.courseDescription})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Students (",o.students.length,")"]})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,s.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Attendance"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Grade"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:o.students.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.email}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full ".concat(e.attendance>=90?"bg-green-500":e.attendance>=80?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(e.attendance,"%")}})}),(0,s.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.attendance,"%"]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.grade||"Pending"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsx)(n(),{href:"/dashboard/teacher/students/".concat(e.id),className:"text-brand-600 hover:text-brand-900 dark:text-brand-400 dark:hover:text-brand-300",children:"View"})})]},e.id))})]})})]})]}):(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 text-center",children:(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Class not found."})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,3464,8441,1684,7358],()=>t(6170)),_N_E=e.O()}]);