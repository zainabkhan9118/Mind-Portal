(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[796],{766:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>l});var t=a(5155),s=a(2115),n=a(5695),o=a(6874),i=a.n(o),c=a(2708),d=a(7393);function l(){let e=(0,n.useRouter)(),{isLoading:r,startLoading:a,stopLoading:o}=(0,d.M)(),[l,u]=(0,s.useState)(null),[m,h]=(0,s.useState)({name:"",description:""}),g=e=>{let{name:r,value:a}=e.target;h(e=>({...e,[r]:a}))},b=async r=>{if(r.preventDefault(),!m.name.trim()){u("Course name is required");return}if(!m.description.trim()){u("Course description is required");return}try{a(),await c.A.createCourse({name:m.name,description:m.description}),e.push("/dashboard/admin/courses")}catch(e){console.error("Failed to create course:",e),u("Failed to create course. Please try again.")}finally{o()}};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Add New Course"}),(0,t.jsx)(i(),{href:"/dashboard/admin/courses",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-700",children:"Back to Courses"})]}),l&&(0,t.jsx)("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-md",children:l}),(0,t.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:(0,t.jsxs)("form",{onSubmit:b,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course Name"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:m.name,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-500 focus:border-brand-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter course name",disabled:r})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course Description"}),(0,t.jsx)("textarea",{id:"description",name:"description",value:m.description,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brand-500 focus:border-brand-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter course description (objectives, content, teaching methods, etc.)",rows:6,disabled:r}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"A comprehensive description should outline learning objectives, target audience, content, and teaching methods."})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"submit",className:"inline-flex items-center px-4 py-2 bg-brand-500 text-white rounded-md hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r,children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Course"})})]})})]})}},2708:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});var t=a(7485);let s={getAllCourses:async()=>(await t.A.get("/courses")).data,getCourseById:async e=>(await t.A.get("/courses/".concat(e))).data,createCourse:async e=>(await t.A.post("/courses",e)).data,updateCourse:async(e,r)=>(await t.A.put("/courses/".concat(e),r)).data,deleteCourse:async e=>{await t.A.delete("/courses/".concat(e))},toggleCourseStatus:async(e,r)=>(await t.A.patch("/courses/".concat(e,"/status"),{isActive:r})).data}},4923:(e,r,a)=>{Promise.resolve().then(a.bind(a,766))},5695:(e,r,a)=>{"use strict";var t=a(8999);a.o(t,"useParams")&&a.d(r,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})},7393:(e,r,a)=>{"use strict";a.d(r,{A:()=>n,M:()=>s});var t=a(2115);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[r,a]=(0,t.useState)(e),s=(0,t.useCallback)(()=>{a(!0)},[]),n=(0,t.useCallback)(()=>{a(!1)},[]),o=(0,t.useCallback)(async e=>{try{return s(),await e}finally{n()}},[s,n]);return{isLoading:r,startLoading:s,stopLoading:n,withLoading:o}},n=s},7485:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let t=a(3464).A.create({baseURL:"https://zaraschool-05bf2031623e.herokuapp.com",headers:{"Content-Type":"application/json",Accept:"application/json"}});t.interceptors.request.use(e=>{let r=localStorage.getItem("authToken");return r&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e)),t.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&!window.location.pathname.includes("/signin")&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/signin"),Promise.reject(e)));let s=t}},e=>{var r=r=>e(e.s=r);e.O(0,[6874,3464,8441,1684,7358],()=>r(4923)),_N_E=e.O()}]);